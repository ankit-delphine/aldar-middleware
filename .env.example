# ============================================
# ALDAR MIDDLEWARE - ENVIRONMENT CONFIGURATION EXAMPLE
# ============================================
# Copy this file to .env and customize the values
# All variables are prefixed with ALDAR_

# ============================================
# APPLICATION SETTINGS
# ============================================
ALDAR_ENVIRONMENT=development
ALDAR_DEBUG=true
ALDAR_LOG_LEVEL=INFO
ALDAR_APP_NAME=Aldar Middleware
ALDAR_APP_VERSION=0.1.0
ALDAR_API_PREFIX=/api
ALDAR_DOCS_URL=/docs
ALDAR_REDOC_URL=/redoc

# ============================================
# SERVER SETTINGS
# ============================================
ALDAR_HOST=0.0.0.0
ALDAR_PORT=8000

# ============================================
# DATABASE CONFIGURATION (PostgreSQL)
# ============================================
ALDAR_DB_HOST=localhost
ALDAR_DB_PORT=5432
ALDAR_DB_USER=aldar
ALDAR_DB_PASS=aldar
ALDAR_DB_NAME=aldar

# ============================================
# REDIS CONFIGURATION
# ============================================
ALDAR_REDIS_HOST=localhost
ALDAR_REDIS_PORT=6379
ALDAR_REDIS_DB=0

# ============================================
# CELERY CONFIGURATION
# ============================================
ALDAR_CELERY_BROKER_URL=redis://localhost:6379/0
ALDAR_CELERY_RESULT_BACKEND=redis://localhost:6379/0

# Agent Health Check Interval (in minutes)
# Set to 1 for testing, 30 for production
ALDAR_AGENT_HEALTH_CHECK_INTERVAL_MINUTES=30

# ============================================
# JWT AUTHENTICATION
# ============================================
ALDAR_JWT_SECRET_KEY=your-secret-key-change-in-production
ALDAR_JWT_ALGORITHM=HS256
ALDAR_JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================
# OPENAI CONFIGURATION
# ============================================
ALDAR_OPENAI_API_KEY=your-openai-api-key-here
ALDAR_OPENAI_MODEL=gpt-4

# ============================================
# MONITORING - Local Prometheus/Grafana
# ============================================
ALDAR_PROMETHEUS_ENABLED=true
ALDAR_PROMETHEUS_PORT=9090
ALDAR_GRAFANA_ENABLED=true
ALDAR_GRAFANA_PORT=3000

# ============================================
# AZURE MANAGED PROMETHEUS & GRAFANA
# ============================================
ALDAR_AZURE_PROMETHEUS_ENABLED=false
ALDAR_AZURE_PROMETHEUS_ENDPOINT=https://your-workspace.prometheus.monitor.azure.com
ALDAR_AZURE_PROMETHEUS_WORKSPACE_ID=your-workspace-id

ALDAR_AZURE_GRAFANA_ENABLED=false
ALDAR_AZURE_GRAFANA_ENDPOINT=https://your-grafana.grafana.azure.com
ALDAR_AZURE_GRAFANA_API_KEY=your-grafana-api-key

# ============================================
# AZURE APPLICATION INSIGHTS
# ============================================
# Set to true to enable Application Insights for telemetry, tracing, and request tracking
# Connection string format: InstrumentationKey=<key>;IngestionEndpoint=<url>;LiveEndpoint=<url>;ApplicationId=<id>
ALDAR_APP_INSIGHTS_ENABLED=false
ALDAR_APP_INSIGHTS_CONNECTION_STRING=InstrumentationKey=your-instrumentation-key;IngestionEndpoint=https://your-region.in.applicationinsights.azure.com/;LiveEndpoint=https://your-region.livediagnostics.monitor.azure.com/;ApplicationId=your-app-id

# ============================================
# AZURE METRICS INGESTION (Data Collection Rules)
# ============================================
# Enable sending Prometheus metrics to Azure Monitor via Metrics Ingestion API
ALDAR_AZURE_METRICS_INGESTION_ENABLED=false
ALDAR_AZURE_METRICS_INGESTION_ENDPOINT=https://your-workspace.ingest.monitor.azure.com
ALDAR_AZURE_METRICS_DCR_RULE_ID=dcr-your-rule-id
ALDAR_AZURE_METRICS_DCR_STREAM_NAME=Custom-Metrics
ALDAR_AZURE_METRICS_PUSH_INTERVAL=60

# ============================================
# AZURE WEB PUBSUB CONFIGURATION
# ============================================
ALDAR_WEB_PUBSUB_CONNECTION_STRING=your-azure-webpubsub-connection-string

# ============================================
# WEBSOCKET CONFIGURATION
# ============================================
ALDAR_WEBSOCKET_HEARTBEAT_INTERVAL=30
ALDAR_WEBSOCKET_MAX_CONNECTIONS=1000

# ============================================
# CORS CONFIGURATION
# ============================================
ALDAR_CORS_ORIGINS=http://localhost:3000,http://localhost:8080
ALDAR_CORS_ALLOW_CREDENTIALS=true

# ============================================
# RATE LIMITING
# ============================================
ALDAR_RATE_LIMIT_REQUESTS=100
ALDAR_RATE_LIMIT_WINDOW=60

# ============================================
# CHAT CONFIGURATION
# ============================================
ALDAR_MAX_CHAT_HISTORY=100
ALDAR_CHAT_TIMEOUT=300

# ============================================
# COSMOS DB APPLICATION DATA STORAGE
# ============================================
ALDAR_COSMOS_ENDPOINT=
ALDAR_COSMOS_KEY=
ALDAR_COSMOS_DATABASE_NAME=aldar_memory
ALDAR_COSMOS_CONTAINER_NAME=conversations
ALDAR_COSMOS_CONSISTENCY_LEVEL=Session

# ============================================
# COSMOS DB LOGGING (Request/Response Tracking)
# ============================================
# Enable centralized logging of all requests and responses to Cosmos DB
ALDAR_COSMOS_LOGGING_ENABLED=false
ALDAR_COSMOS_LOGGING_DATABASE_NAME=aiq-database
ALDAR_COSMOS_LOGGING_CONTAINER_NAME=aiq-log
ALDAR_COSMOS_LOGGING_THROUGHPUT=400
ALDAR_COSMOS_LOGGING_BATCH_SIZE=50
ALDAR_COSMOS_LOGGING_FLUSH_INTERVAL=5
# Save HTTP request/response bodies to Cosmos DB (set to false to only log basic request info with correlation IDs)
ALDAR_COSMOS_LOGGING_SAVE_REQUEST_RESPONSE=true